MEMORY: decision
Using separate git note refs for different data types: refs/notes/gitsmart for memories, refs/notes/gitsmart-queries for queries - keeps data organized and allows selective syncing

---
{
  "id": "9d4f6460-da4f-43d1-ba2c-dc2dc2273335",
  "content": "Using separate git note refs for different data types: refs/notes/gitsmart for memories, refs/notes/gitsmart-queries for queries - keeps data organized and allows selective syncing",
  "enhanced_content": "**Decision Summary**  \nThe decision is to use separate Git note references (`refs/notes/gitsmart` for memories and `refs/notes/gitsmart-queries` for queries) to organize and manage different types of metadata associated with commits.\n\n---\n\n**Apparent Reasoning**  \nBased on the context:  \n- **Separation of concerns**: By isolating memories (likely historical or contextual data) from queries (search or interaction data), the system maintains clarity and avoids mixing unrelated metadata.  \n- **Selective syncing**: Different note refs can be synced independently, allowing teams to share only relevant data (e.g., queries) without exposing all notes.  \n- **Scalability**: As the system grows, having dedicated refs makes it easier to manage, update, or archive specific data types without affecting others.\n\n---\n\n**Technical Details**  \n- **Git notes**: Git\u2019s built-in feature for attaching extra information to commits without altering the commit history.  \n- **Custom refs**: `refs/notes/gitsmart` and `refs/notes/gitsmart-queries` are user-defined namespaces under the `refs/notes/` hierarchy.  \n- **Commands example**:  \n  - Add a note: `git notes --ref=gitsmart add -m \"memory data\"`  \n  - Push selectively: `git push origin refs/notes/gitsmart-queries`  \n- **Isolation**: Notes under different refs are stored separately in `.git/refs/notes/` and can be fetched/merged independently.\n\n---\n\n**Future Considerations**  \n- **Ref proliferation**: Adding more data types may lead to many refs; consider a naming convention or hierarchy (e.g., `refs/notes/gitsmart/type`).  \n- **Access control**: If notes contain sensitive data, ensure ref-level permissions are configured in the remote repository.  \n- **Tooling support**: Verify that existing Git tools (UI clients, CI/CD) handle custom note refs correctly.  \n- **Migration strategy**: If refs need consolidation or splitting later, plan for backward compatibility and data migration.",
  "type": "decision",
  "tags": [
    "organization"
  ],
  "created_at": "2026-01-31T22:05:13.836373+00:00"
}
